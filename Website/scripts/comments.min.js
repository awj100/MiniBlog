(function(){function o(n){var t="";for(var i in n)n.hasOwnProperty(i)&&(t+=i+"="+n[i].replace(/ /g,"+")+"&");return t.substring(0,t.length-1)}function r(n,t){return new RegExp(" "+t+" ").test(" "+n.className+" ")}function u(n,t){r(n,t)||(n.className+=" "+t)}function s(n,t){var i=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(r(n,t)){while(i.indexOf(" "+t+" ")>=0)i=i.replace(" "+t+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")}}function h(n){var t=document.createElement("div");return t.innerHTML=n,t.children}function f(n,t,i){for(var r=[];n;)if(n=n.parentNode,n.hasAttribute(t)&&n.getAttribute(t)===i&&r.push(n),!n.parentNode.parentNode)break;return r}function e(n,t,i){var r,f,e;t==="Up"?n.style.height="0px":(r=n.cloneNode(!0),r.style.position="absolute",r.style.visibility="hidden",r.style.height="auto",u(r,"slideClone col-md-6 col-md-offset-3"),document.body.appendChild(r),f=document.getElementsByClassName("slideClone")[0],e=f.clientHeight,f.remove(),n.style.height=e+"px",i&&setTimeout(function(){i()},500))}function c(r,u){confirm("Do you want to delete this comment?")&&n.postAjax(t,function(n,t){if(n===4&&t===200){e(u,"Up",function(){u.remove()});return}t!==200&&alert("Something went wrong. Please try again")},{mode:"delete",postId:i,commentId:r,__RequestVerificationToken:document.querySelector("input[name=__RequestVerificationToken]").getAttribute("value")})}function l(r,u){n.postAjax(t,function(n,t){if(n===4&&t===200){u.remove();return}t!==200&&alert("Something went wrong. Please try again")},{mode:"approve",postId:i,commentId:r,__RequestVerificationToken:document.querySelector("input[name=__RequestVerificationToken]").getAttribute("value")})}function a(r,f,o,c,l){localStorage&&(localStorage.setItem("name",r),localStorage.setItem("email",f),localStorage.setItem("website",o));n.postAjax(t,function(n,t,i){var r=document.getElementById("status"),f,o;if(n===4&&t===200){r.innerHTML="Your comment has been added";s(r,"alert-danger");u(r,"alert-success");document.getElementById("commentcontent").value="";f=h(i)[0];f.style.height="0px";o=document.getElementById("comments");o.appendChild(f);e(f,"Down");l(!0);return}t!==200&&(u(r,"alert-danger"),r.innerText="Unable to add comment",l(!1))},{mode:"save",postId:i,name:r,email:f,website:o,content:c,__RequestVerificationToken:document.querySelector("input[name=__RequestVerificationToken]").getAttribute("value")})}function v(){var n;i=document.querySelector("[itemprop=blogPost]").getAttribute("data-id");t=document.getElementById("commentform").getAttribute("data-blog-path")+t;var s=document.getElementById("commentemail"),u=document.getElementById("commentname"),e=document.getElementById("commenturl"),h=document.getElementById("commentcontent"),v=document.getElementById("commentform"),o=document.querySelectorAll("[itemprop=comment]");for(n=0;n<o.length;++n)o[n].style.height=o[n].clientHeight+"px";v.onsubmit=function(n){n.preventDefault();var t=n.target;t.setAttribute("disabled",!0);a(u.value,s.value,e.value,h.value,function(){t.removeAttribute("disabled")})};e.addEventListener("keyup",function(n){var t=n.target;t.value.trim().length>=4&&t.value.indexOf("http")===-1&&(t.value="http://"+t.value)});window.addEventListener("click",function(n){var t=n.target,i;r(t,"deletecomment")&&(i=f(t,"itemprop","comment")[0],c(i.getAttribute("data-id"),i));r(t,"approvecomment")&&(i=f(t,"itemprop","comment")[0],l(i.getAttribute("data-id"),t))});localStorage&&(s.value=localStorage.getItem("email"),e.value=localStorage.getItem("website"),u.value.length===0&&(u.value=localStorage.getItem("name")))}var i=null,n=n?n:{},t;n.ajax=function(t,i){var r=n.getAjaxRequest(i);r.open("GET",t,!0);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.send(null)};n.postAjax=function(t,i,r){var u=n.getAjaxRequest(i);u.open("POST",t,!0);u.setRequestHeader("Content-Type","application/x-www-form-urlencoded");u.send(o(r))};n.getAjaxRequest=function(n){var t=new XMLHttpRequest;return t.onreadystatechange=function(){t.readyState>1&&t.status>0&&n(t.readyState,t.status,t.responseText)},t};Element.prototype.remove=function(){this.parentElement.removeChild(this)};NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var n=0,t=this.length;n<t;n++)this[n]&&this[n].parentElement&&this[n].parentElement.removeChild(this[n])};t="/comment.ashx";document.getElementById("commentform")&&v()})();
/*
//# sourceMappingURL=comments.min.js.map
*/